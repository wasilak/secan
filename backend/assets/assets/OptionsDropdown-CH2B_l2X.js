import{i as A,k as O,l as Y,j as u,B as T,n as ee,s as Ce,v as L,a7 as Oe,r as p,p as oe,at as _,au as z,X as B,av as Se,x as Ae,m as Ne,ag as W,a1 as F,P as Ee,$ as Ie}from"./index-Bt6cuxqh.js";function te(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(o=>te(o))}:e}function eo(e){return e?e.map(o=>te(o)):[]}function je(e){return e.reduce((o,t)=>"group"in t?{...o,...je(t.items)}:(o[t.value]=t,o),{})}var w={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const ke={error:null},De=ee((e,{size:o,color:t})=>({chevron:{"--combobox-chevron-size":L(o,"combobox-chevron-size"),"--combobox-chevron-color":t?Ce(t,e):void 0}})),H=A((e,o)=>{const t=O("ComboboxChevron",ke,e),{size:r,error:s,style:c,className:n,classNames:a,styles:i,unstyled:l,vars:b,mod:d,...f}=t,g=Y({name:"ComboboxChevron",classes:w,props:t,style:c,className:n,classNames:a,styles:i,unstyled:l,vars:b,varsResolver:De,rootSelector:"chevron"});return u.jsx(T,{component:"svg",...f,...g("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},d],ref:o,children:u.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});H.classes=w;H.displayName="@mantine/core/ComboboxChevron";const[Te,N]=Oe("Combobox component was not found in tree"),re=p.forwardRef(({size:e,onMouseDown:o,onClick:t,onClear:r,...s},c)=>u.jsx(oe.ClearButton,{ref:c,tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:n=>{n.preventDefault(),o==null||o(n)},onClick:n=>{r(),t==null||t(n)}}));re.displayName="@mantine/core/ComboboxClearButton";const Pe={},q=A((e,o)=>{const{classNames:t,styles:r,className:s,style:c,hidden:n,...a}=O("ComboboxDropdown",Pe,e),i=N();return u.jsx(_.Dropdown,{...a,ref:o,role:"presentation","data-hidden":n||void 0,...i.getStyles("dropdown",{className:s,style:c,classNames:t,styles:r})})});q.classes=w;q.displayName="@mantine/core/ComboboxDropdown";const Re={refProp:"ref"},ne=A((e,o)=>{const{children:t,refProp:r}=O("ComboboxDropdownTarget",Re,e);if(N(),!z(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return u.jsx(_.Target,{ref:o,refProp:r,children:t})});ne.displayName="@mantine/core/ComboboxDropdownTarget";const $e={},K=A((e,o)=>{const{classNames:t,className:r,style:s,styles:c,vars:n,...a}=O("ComboboxEmpty",$e,e),i=N();return u.jsx(T,{ref:o,...i.getStyles("empty",{className:r,classNames:t,styles:c,style:s}),...a})});K.classes=w;K.displayName="@mantine/core/ComboboxEmpty";function V({onKeyDown:e,withKeyboardNavigation:o,withAriaAttributes:t,withExpandedAttribute:r,targetType:s,autoComplete:c}){const n=N(),[a,i]=p.useState(null),l=d=>{if(e==null||e(d),!n.readOnly&&o){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),n.store.dropdownOpened?i(n.store.selectNextOption()):(n.store.openDropdown("keyboard"),i(n.store.selectActiveOption()),n.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),n.store.dropdownOpened?i(n.store.selectPreviousOption()):(n.store.openDropdown("keyboard"),i(n.store.selectActiveOption()),n.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=n.store.getSelectedOptionIndex();n.store.dropdownOpened&&f!==-1?(d.preventDefault(),n.store.clickSelectedOption()):s==="button"&&(d.preventDefault(),n.store.openDropdown("keyboard"))}d.key==="Escape"&&n.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&s==="button"&&(d.preventDefault(),n.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":r&&!!(n.store.listId&&n.store.dropdownOpened)||void 0,"aria-controls":n.store.dropdownOpened?n.store.listId:void 0,"aria-activedescendant":n.store.dropdownOpened&&a||void 0,autoComplete:c,"data-expanded":n.store.dropdownOpened||void 0,"data-mantine-stop-propagation":n.store.dropdownOpened||void 0}:{},onKeyDown:l}}const _e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},se=A((e,o)=>{const{children:t,refProp:r,withKeyboardNavigation:s,withAriaAttributes:c,withExpandedAttribute:n,targetType:a,autoComplete:i,...l}=O("ComboboxEventsTarget",_e,e);if(!z(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const b=N(),d=V({targetType:a,withAriaAttributes:c,withKeyboardNavigation:s,withExpandedAttribute:n,onKeyDown:t.props.onKeyDown,autoComplete:i});return p.cloneElement(t,{...d,...l,[r]:B(o,b.store.targetRef,Se(t))})});se.displayName="@mantine/core/ComboboxEventsTarget";const Le={},G=A((e,o)=>{const{classNames:t,className:r,style:s,styles:c,vars:n,...a}=O("ComboboxFooter",Le,e),i=N();return u.jsx(T,{ref:o,...i.getStyles("footer",{className:r,classNames:t,style:s,styles:c}),...a,onMouseDown:l=>{l.preventDefault()}})});G.classes=w;G.displayName="@mantine/core/ComboboxFooter";const Fe={},M=A((e,o)=>{const{classNames:t,className:r,style:s,styles:c,vars:n,children:a,label:i,...l}=O("ComboboxGroup",Fe,e),b=N();return u.jsxs(T,{ref:o,...b.getStyles("group",{className:r,classNames:t,style:s,styles:c}),...l,children:[i&&u.jsx("div",{...b.getStyles("groupLabel",{classNames:t,styles:c}),children:i}),a]})});M.classes=w;M.displayName="@mantine/core/ComboboxGroup";const ze={},U=A((e,o)=>{const{classNames:t,className:r,style:s,styles:c,vars:n,...a}=O("ComboboxHeader",ze,e),i=N();return u.jsx(T,{ref:o,...i.getStyles("header",{className:r,classNames:t,style:s,styles:c}),...a,onMouseDown:l=>{l.preventDefault()}})});U.classes=w;U.displayName="@mantine/core/ComboboxHeader";function ae({value:e,valuesDivider:o=",",...t}){return u.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(o):e||"",...t})}ae.displayName="@mantine/core/ComboboxHiddenInput";const Be={},Z=A((e,o)=>{const t=O("ComboboxOption",Be,e),{classNames:r,className:s,style:c,styles:n,vars:a,onClick:i,id:l,active:b,onMouseDown:d,onMouseOver:f,disabled:g,selected:I,mod:k,...j}=t,v=N(),P=p.useId(),E=l||P;return u.jsx(T,{...v.getStyles("option",{className:s,classNames:r,styles:n,style:c}),...j,ref:o,id:E,mod:["combobox-option",{"combobox-active":b,"combobox-disabled":g,"combobox-selected":I},k],role:"option",onClick:x=>{var D;g?x.preventDefault():((D=v.onOptionSubmit)==null||D.call(v,t.value,t),i==null||i(x))},onMouseDown:x=>{x.preventDefault(),d==null||d(x)},onMouseOver:x=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f==null||f(x)}})});Z.classes=w;Z.displayName="@mantine/core/ComboboxOption";const He={},X=A((e,o)=>{const t=O("ComboboxOptions",He,e),{classNames:r,className:s,style:c,styles:n,id:a,onMouseDown:i,labelledBy:l,...b}=t,d=N(),f=Ae(a);return p.useEffect(()=>{d.store.setListId(f)},[f]),u.jsx(T,{ref:o,...d.getStyles("options",{className:s,style:c,classNames:r,styles:n}),...b,id:f,role:"listbox","aria-labelledby":l,onMouseDown:g=>{g.preventDefault(),i==null||i(g)}})});X.classes=w;X.displayName="@mantine/core/ComboboxOptions";const qe={withAriaAttributes:!0,withKeyboardNavigation:!0},J=A((e,o)=>{const t=O("ComboboxSearch",qe,e),{classNames:r,styles:s,unstyled:c,vars:n,withAriaAttributes:a,onKeyDown:i,withKeyboardNavigation:l,size:b,...d}=t,f=N(),g=f.getStyles("search"),I=V({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:i,autoComplete:"off"});return u.jsx(oe,{ref:B(o,f.store.searchRef),classNames:[{input:g.className},r],styles:[{input:g.style},s],size:b||f.size,...I,...d,__staticSelector:"Combobox"})});J.classes=w;J.displayName="@mantine/core/ComboboxSearch";const Ke={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ie=A((e,o)=>{const{children:t,refProp:r,withKeyboardNavigation:s,withAriaAttributes:c,withExpandedAttribute:n,targetType:a,autoComplete:i,...l}=O("ComboboxTarget",Ke,e);if(!z(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const b=N(),d=V({targetType:a,withAriaAttributes:c,withKeyboardNavigation:s,withExpandedAttribute:n,onKeyDown:t.props.onKeyDown,autoComplete:i}),f=p.cloneElement(t,{...d,...l});return u.jsx(_.Target,{ref:B(o,b.store.targetRef),children:f})});ie.displayName="@mantine/core/ComboboxTarget";function Ve(e,o,t){for(let r=e-1;r>=0;r-=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=o.length-1;r>-1;r-=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r}return e}function Ge(e,o,t){for(let r=e+1;r<o.length;r+=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=0;r<o.length;r+=1)if(!o[r].hasAttribute("data-combobox-disabled"))return r}return e}function Me(e){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;return-1}function Ue({defaultOpened:e,opened:o,onOpenedChange:t,onDropdownClose:r,onDropdownOpen:s,loop:c=!0,scrollBehavior:n="instant"}={}){const[a,i]=Ne({value:o,defaultValue:e,finalValue:!1,onChange:t}),l=p.useRef(null),b=p.useRef(-1),d=p.useRef(null),f=p.useRef(null),g=p.useRef(-1),I=p.useRef(-1),k=p.useRef(-1),j=p.useCallback((m="unknown")=>{a||(i(!0),s==null||s(m))},[i,s,a]),v=p.useCallback((m="unknown")=>{a&&(i(!1),r==null||r(m))},[i,r,a]),P=p.useCallback((m="unknown")=>{a?v(m):j(m)},[v,j,a]),E=p.useCallback(()=>{const m=document.querySelector(`#${l.current} [data-combobox-selected]`);m==null||m.removeAttribute("data-combobox-selected"),m==null||m.removeAttribute("aria-selected")},[]),x=p.useCallback(m=>{const C=document.getElementById(l.current),y=C==null?void 0:C.querySelectorAll("[data-combobox-option]");if(!y)return null;const S=m>=y.length?0:m<0?y.length-1:m;return b.current=S,y!=null&&y[S]&&!y[S].hasAttribute("data-combobox-disabled")?(E(),y[S].setAttribute("data-combobox-selected","true"),y[S].setAttribute("aria-selected","true"),y[S].scrollIntoView({block:"nearest",behavior:n}),y[S].id):null},[n,E]),D=p.useCallback(()=>{const m=document.querySelector(`#${l.current} [data-combobox-active]`);if(m){const C=document.querySelectorAll(`#${l.current} [data-combobox-option]`),y=Array.from(C).findIndex(S=>S===m);return x(y)}return x(0)},[x]),R=p.useCallback(()=>x(Ge(b.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),c)),[x,c]),pe=p.useCallback(()=>x(Ve(b.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),c)),[x,c]),be=p.useCallback(()=>x(Me(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[x]),me=p.useCallback((m="selected",C)=>{k.current=window.setTimeout(()=>{var Q;const y=document.querySelectorAll(`#${l.current} [data-combobox-option]`),S=Array.from(y).findIndex(we=>we.hasAttribute(`data-combobox-${m}`));b.current=S,C!=null&&C.scrollIntoView&&((Q=y[S])==null||Q.scrollIntoView({block:"nearest",behavior:n}))},0)},[]),fe=p.useCallback(()=>{b.current=-1,E()},[E]),xe=p.useCallback(()=>{const m=document.querySelectorAll(`#${l.current} [data-combobox-option]`),C=m==null?void 0:m[b.current];C==null||C.click()},[]),he=p.useCallback(m=>{l.current=m},[]),ge=p.useCallback(()=>{g.current=window.setTimeout(()=>d.current.focus(),0)},[]),ve=p.useCallback(()=>{I.current=window.setTimeout(()=>f.current.focus(),0)},[]),ye=p.useCallback(()=>b.current,[]);return p.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(I.current),window.clearTimeout(k.current)},[]),{dropdownOpened:a,openDropdown:j,closeDropdown:v,toggleDropdown:P,selectedOptionIndex:b.current,getSelectedOptionIndex:ye,selectOption:x,selectFirstOption:be,selectActiveOption:D,selectNextOption:R,selectPreviousOption:pe,resetSelectedOption:fe,updateSelectedOptionIndex:me,listId:l.current,setListId:he,clickSelectedOption:xe,searchRef:d,focusSearchInput:ge,targetRef:f,focusTarget:ve}}const Ze={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Xe=ee((e,{size:o,dropdownPadding:t})=>({options:{"--combobox-option-fz":W(o),"--combobox-option-padding":L(o,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:F(t),"--combobox-option-fz":W(o),"--combobox-option-padding":L(o,"combobox-option-padding")}}));function h(e){const o=O("Combobox",Ze,e),{classNames:t,styles:r,unstyled:s,children:c,store:n,vars:a,onOptionSubmit:i,onClose:l,size:b,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:g,readOnly:I,...k}=o,j=Ue(),v=n||j,P=Y({name:g||"Combobox",classes:w,props:o,classNames:t,styles:r,unstyled:s,vars:a,varsResolver:Xe}),E=()=>{l==null||l(),v.closeDropdown()};return u.jsx(Te,{value:{getStyles:P,store:v,onOptionSubmit:i,size:b,resetSelectionOnOptionHover:f,readOnly:I},children:u.jsx(_,{opened:v.dropdownOpened,...k,onChange:x=>!x&&E(),withRoles:!1,unstyled:s,children:c})})}const Je=e=>e;h.extend=Je;h.classes=w;h.displayName="@mantine/core/Combobox";h.Target=ie;h.Dropdown=q;h.Options=X;h.Option=Z;h.Search=J;h.Empty=K;h.Chevron=H;h.Footer=G;h.Header=U;h.EventsTarget=se;h.DropdownTarget=ne;h.Group=M;h.ClearButton=re;h.HiddenInput=ae;function ce({size:e,style:o,...t}){const r=e!==void 0?{width:F(e),height:F(e),...o}:o;return u.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...t,children:u.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function oo({indeterminate:e,...o}){return e?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...o,children:u.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):u.jsx(ce,{...o})}function $(e){return"group"in e}function le({options:e,search:o,limit:t}){const r=o.trim().toLowerCase(),s=[];for(let c=0;c<e.length;c+=1){const n=e[c];if(s.length===t)return s;$(n)&&s.push({group:n.group,items:le({options:n.items,search:o,limit:t-s.length})}),$(n)||n.label.toLowerCase().includes(r)&&s.push(n)}return s}function Qe(e){if(e.length===0)return!0;for(const o of e)if(!("group"in o)||o.items.length>0)return!1;return!0}function de(e,o=new Set){if(Array.isArray(e))for(const t of e)if($(t))de(t.items,o);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(o.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);o.add(t.value)}}function We(e,o){return Array.isArray(e)?e.includes(o):e===o}function ue({data:e,withCheckIcon:o,value:t,checkIconPosition:r,unstyled:s,renderOption:c}){if(!$(e)){const a=We(t,e.value),i=o&&a&&u.jsx(ce,{className:w.optionsDropdownCheckIcon}),l=u.jsxs(u.Fragment,{children:[r==="left"&&i,u.jsx("span",{children:e.label}),r==="right"&&i]});return u.jsx(h.Option,{value:e.value,disabled:e.disabled,className:Ie({[w.optionsDropdownOption]:!s}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof c=="function"?c({option:e,checked:a}):l})}const n=e.items.map(a=>u.jsx(ue,{data:a,value:t,unstyled:s,withCheckIcon:o,checkIconPosition:r,renderOption:c},a.value));return u.jsx(h.Group,{label:e.group,children:n})}function to({data:e,hidden:o,hiddenWhenEmpty:t,filter:r,search:s,limit:c,maxDropdownHeight:n,withScrollArea:a=!0,filterOptions:i=!0,withCheckIcon:l=!1,value:b,checkIconPosition:d,nothingFoundMessage:f,unstyled:g,labelId:I,renderOption:k,scrollAreaProps:j,"aria-label":v}){de(e);const E=typeof s=="string"?(r||le)({options:e,search:i?s:"",limit:c??1/0}):e,x=Qe(E),D=E.map(R=>u.jsx(ue,{data:R,withCheckIcon:l,value:b,checkIconPosition:d,unstyled:g,renderOption:k},$(R)?R.group:R.value));return u.jsx(h.Dropdown,{hidden:o||t&&x,"data-composed":!0,children:u.jsxs(h.Options,{labelledBy:I,"aria-label":v,children:[a?u.jsx(Ee.Autosize,{mah:n??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...j,children:D}):D,x&&f&&u.jsx(h.Empty,{children:f})]})})}export{oo as C,to as O,je as a,h as b,eo as g,$ as i,Ue as u};
