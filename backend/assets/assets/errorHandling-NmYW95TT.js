import"./index-Bt6cuxqh.js";function c(r){var t;if(console.error("Error occurred:",r),r&&typeof r=="object"&&"name"in r&&r.name==="ApiClientError"&&"message"in r&&"statusCode"in r){const e=r;if(e.error){const s=n(e.error);if(s)return{error:"elasticsearch_error",message:s,statusCode:e.statusCode,details:e.error}}return{error:"api_error",message:e.message,statusCode:e.statusCode,details:e.error}}if(r&&typeof r=="object"&&"response"in r){const e=r.response;if(e!=null&&e.data){const s=n(e.data);return{error:e.data.error||"api_error",message:s||e.data.message||"An error occurred",details:e.data.details,statusCode:e.status,requestId:(t=e.headers)==null?void 0:t["x-request-id"]}}return{error:"http_error",message:`HTTP ${(e==null?void 0:e.status)||"Unknown"}: ${(e==null?void 0:e.statusText)||"Request failed"}`,statusCode:e==null?void 0:e.status}}if(r&&typeof r=="object"&&"message"in r){const e=r;return e.message.includes("Network")||e.message.includes("fetch")?{error:"network_error",message:"Network error. Please check your connection.",details:e.message}:{error:"error",message:e.message,details:e.stack}}return typeof r=="string"?{error:"error",message:r}:{error:"unknown_error",message:"An unexpected error occurred",details:r}}function n(r){const t=r;if(t.error&&typeof t.error=="object"){const e=t.error;if(e.reason&&typeof e.reason=="string"){let s=`Elasticsearch: ${e.reason}`;if(e.type&&typeof e.type=="string"&&(s=`Elasticsearch (${e.type}): ${e.reason}`),e.root_cause&&Array.isArray(e.root_cause)&&e.root_cause.length>0){const o=e.root_cause[0];o.reason&&o.reason!==e.reason&&(s+=`
Root cause: ${o.reason}`)}return s}}if("details"in t&&t.details&&typeof t.details=="object"){const e=t.details;if(e.error&&typeof e.error=="object"){const s=e.error;if(s.reason&&typeof s.reason=="string"){let o=`Elasticsearch: ${s.reason}`;if(s.type&&typeof s.type=="string"&&(o=`Elasticsearch (${s.type}): ${s.reason}`),s.root_cause&&Array.isArray(s.root_cause)&&s.root_cause.length>0){const a=s.root_cause[0];a.reason&&a.reason!==s.reason&&(o+=`
Root cause: ${a.reason}`)}return o}}}return null}export{c as p};
