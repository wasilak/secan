import{h as me,i as G,k as R,l as W,j as l,B as ee,n as ye,v as T,ae as hs,o as fs,af as gs,X as ms,r as ve,x as ys,w as vs,m as ge,_ as bs}from"./index-C4Gs3_hh.js";import{i as Ps,g as Ss,a as xs,u as _s,b as D,O as ws}from"./OptionsDropdown-D-bphLbJ.js";import{I as be}from"./InputBase-DPmSyKvF.js";const[Is,se]=me(),[Cs,Os]=me();var q={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Ds={},js=ye((u,{gap:o},{size:t})=>({group:{"--pg-gap":o!==void 0?T(o):T(t,"pg-gap")}})),te=G((u,o)=>{const t=R("PillGroup",Ds,u),{classNames:y,className:i,style:n,styles:h,unstyled:a,vars:w,size:g,disabled:b,...P}=t,r=se(),e=(r==null?void 0:r.size)||g||void 0,p=W({name:"PillGroup",classes:q,props:t,className:i,style:n,classNames:y,styles:h,unstyled:a,vars:w,varsResolver:js,stylesCtx:{size:e},rootSelector:"group"});return l.jsx(Cs,{value:{size:e,disabled:b},children:l.jsx(ee,{ref:o,size:e,...p("group"),...P})})});te.classes=q;te.displayName="@mantine/core/PillGroup";const Ns={variant:"default"},ks=ye((u,{radius:o},{size:t})=>({root:{"--pill-fz":T(t,"pill-fz"),"--pill-height":T(t,"pill-height"),"--pill-radius":o===void 0?void 0:fs(o)}})),M=G((u,o)=>{const t=R("Pill",Ns,u),{classNames:y,className:i,style:n,styles:h,unstyled:a,vars:w,variant:g,children:b,withRemoveButton:P,onRemove:r,removeButtonProps:e,radius:p,size:d,disabled:v,mod:z,...j}=t,m=Os(),I=se(),N=d||(m==null?void 0:m.size)||void 0,$=(I==null?void 0:I.variant)==="filled"?"contrast":g||"default",V=W({name:"Pill",classes:q,props:t,className:i,style:n,classNames:y,styles:h,unstyled:a,vars:w,varsResolver:ks,stylesCtx:{size:N}});return l.jsxs(ee,{component:"span",ref:o,variant:$,size:N,...V("root",{variant:$}),mod:[{"with-remove":P&&!v,disabled:v||(m==null?void 0:m.disabled)},z],...j,children:[l.jsx("span",{...V("label"),children:b}),P&&l.jsx(hs,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...e,...V("remove",{className:e==null?void 0:e.className,style:e==null?void 0:e.style}),onMouseDown:_=>{var C;_.preventDefault(),_.stopPropagation(),(C=e==null?void 0:e.onMouseDown)==null||C.call(e,_)},onClick:_=>{var C;_.stopPropagation(),r==null||r(),(C=e==null?void 0:e.onClick)==null||C.call(e,_)}})]})});M.classes=q;M.displayName="@mantine/core/Pill";M.Group=te;var Pe={field:"m_45c4369d"};const zs={type:"visible"},le=G((u,o)=>{const t=R("PillsInputField",zs,u),{classNames:y,className:i,style:n,styles:h,unstyled:a,vars:w,type:g,disabled:b,id:P,pointer:r,mod:e,...p}=t,d=se(),v=gs(),z=W({name:"PillsInputField",classes:Pe,props:t,className:i,style:n,classNames:y,styles:h,unstyled:a,rootSelector:"field"}),j=b||(d==null?void 0:d.disabled);return l.jsx(ee,{component:"input",ref:ms(o,d==null?void 0:d.fieldRef),"data-type":g,disabled:j,mod:[{disabled:j,pointer:r},e],...z("field"),...p,id:(v==null?void 0:v.inputId)||P,"aria-invalid":d==null?void 0:d.hasError,"aria-describedby":v==null?void 0:v.describedBy,type:"text",onMouseDown:m=>!r&&m.stopPropagation()})});le.classes=Pe;le.displayName="@mantine/core/PillsInputField";const Vs={},H=G((u,o)=>{const t=R("PillsInput",Vs,u),{children:y,onMouseDown:i,onClick:n,size:h,disabled:a,__staticSelector:w,error:g,variant:b,...P}=t,r=ve.useRef(null);return l.jsx(Is,{value:{fieldRef:r,size:h,disabled:a,hasError:!!g,variant:b},children:l.jsx(be,{size:h,error:g,variant:b,component:"div",ref:o,onMouseDown:e=>{var p;e.preventDefault(),i==null||i(e),(p=r.current)==null||p.focus()},onClick:e=>{var d;e.preventDefault();const p=e.currentTarget.closest("fieldset");p!=null&&p.disabled||((d=r.current)==null||d.focus(),n==null||n(e))},...P,multiline:!0,disabled:a,__staticSelector:w||"PillsInput",withAria:!1,children:y})})});H.displayName="@mantine/core/PillsInput";H.Field=le;function Es({data:u,value:o}){const t=o.map(i=>i.trim().toLowerCase());return u.reduce((i,n)=>(Ps(n)?i.push({group:n.group,items:n.items.filter(h=>t.indexOf(h.value.toLowerCase().trim())===-1)}):t.indexOf(n.value.toLowerCase().trim())===-1&&i.push(n),i),[])}const Fs={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},Se=G((u,o)=>{const t=R("MultiSelect",Fs,u),{classNames:y,className:i,style:n,styles:h,unstyled:a,vars:w,size:g,value:b,defaultValue:P,onChange:r,onKeyDown:e,variant:p,data:d,dropdownOpened:v,defaultDropdownOpened:z,onDropdownOpen:j,onDropdownClose:m,selectFirstOptionOnChange:I,onOptionSubmit:N,comboboxProps:$,filter:V,limit:_,withScrollArea:C,maxDropdownHeight:xe,searchValue:_e,defaultSearchValue:we,onSearchChange:Ie,readOnly:E,disabled:O,onFocus:K,onBlur:U,radius:Ce,rightSection:Oe,rightSectionWidth:De,rightSectionPointerEvents:ae,rightSectionProps:je,leftSection:Ne,leftSectionWidth:ke,leftSectionPointerEvents:ze,leftSectionProps:Ve,inputContainer:Ee,inputWrapperOrder:Fe,withAsterisk:Me,labelProps:Ge,descriptionProps:Re,errorProps:$e,wrapperProps:Ae,description:Le,label:X,error:oe,maxValues:Te,searchable:S,nothingFoundMessage:ie,withCheckIcon:He,checkIconPosition:We,hidePickedOptions:qe,withErrorStyles:Ke,name:Ue,form:Xe,id:Be,clearable:Je,clearButtonProps:Qe,hiddenInputProps:Ye,placeholder:ne,hiddenInputValuesDivider:Ze,required:es,mod:ss,renderOption:ts,onRemove:x,onClear:B,scrollAreaProps:ls,chevronColor:as,...re}=t,J=ys(Be),Q=Ss(d),k=xs(Q),f=_s({opened:v,defaultOpened:z,onDropdownOpen:j,onDropdownClose:()=>{m==null||m(),f.resetSelectedOption()}}),{styleProps:os,rest:{type:Ms,autoComplete:is,...ns}}=vs(re),[c,F]=ge({value:b,defaultValue:P,finalValue:[],onChange:r}),[A,rs]=ge({value:_e,defaultValue:we,finalValue:"",onChange:Ie}),L=s=>{rs(s),f.resetSelectedOption()},Y=W({name:"MultiSelect",classes:{},props:t,classNames:y,styles:h,unstyled:a}),{resolvedClassNames:de,resolvedStyles:ce}=bs({props:t,styles:h,classNames:y}),ds=s=>{e==null||e(s),s.key===" "&&!S&&(s.preventDefault(),f.toggleDropdown()),s.key==="Backspace"&&A.length===0&&c.length>0&&(x==null||x(c[c.length-1]),F(c.slice(0,c.length-1)))},cs=c.map((s,Z)=>{var he,fe;return l.jsx(M,{withRemoveButton:!E&&!((he=k[s])!=null&&he.disabled),onRemove:()=>{F(c.filter(us=>s!==us)),x==null||x(s)},unstyled:a,disabled:O,...Y("pill"),children:((fe=k[s])==null?void 0:fe.label)||s},`${s}-${Z}`)});ve.useEffect(()=>{I&&f.selectFirstOption()},[I,A]);const pe=l.jsx(D.ClearButton,{...Qe,onClear:()=>{B==null||B(),F([]),L("")}}),ps=Es({data:Q,value:c}),ue=Je&&c.length>0&&!O&&!E;return l.jsxs(l.Fragment,{children:[l.jsxs(D,{store:f,classNames:de,styles:ce,unstyled:a,size:g,readOnly:E,__staticSelector:"MultiSelect",onOptionSubmit:s=>{N==null||N(s),L(""),f.updateSelectedOptionIndex("selected"),c.includes(k[s].value)?(F(c.filter(Z=>Z!==k[s].value)),x==null||x(k[s].value)):c.length<Te&&F([...c,k[s].value])},...$,children:[l.jsx(D.DropdownTarget,{children:l.jsx(H,{...os,__staticSelector:"MultiSelect",classNames:de,styles:ce,unstyled:a,size:g,className:i,style:n,variant:p,disabled:O,radius:Ce,__defaultRightSection:l.jsx(D.Chevron,{size:g,error:oe,unstyled:a,color:as}),__clearSection:pe,__clearable:ue,rightSection:Oe,rightSectionPointerEvents:ae||(pe?"all":"none"),rightSectionWidth:De,rightSectionProps:je,leftSection:Ne,leftSectionWidth:ke,leftSectionPointerEvents:ze,leftSectionProps:Ve,inputContainer:Ee,inputWrapperOrder:Fe,withAsterisk:Me,labelProps:Ge,descriptionProps:Re,errorProps:$e,wrapperProps:Ae,description:Le,label:X,error:oe,withErrorStyles:Ke,__stylesApiProps:{...t,rightSectionPointerEvents:ae||(ue?"all":"none"),multiline:!0},pointer:!S,onClick:()=>S?f.openDropdown():f.toggleDropdown(),"data-expanded":f.dropdownOpened||void 0,id:J,required:es,mod:ss,children:l.jsxs(M.Group,{disabled:O,unstyled:a,...Y("pillsList"),children:[cs,l.jsx(D.EventsTarget,{autoComplete:is,children:l.jsx(H.Field,{...ns,ref:o,id:J,placeholder:ne,type:!S&&!ne?"hidden":"visible",...Y("inputField"),unstyled:a,onFocus:s=>{K==null||K(s),S&&f.openDropdown()},onBlur:s=>{U==null||U(s),f.closeDropdown(),L("")},onKeyDown:ds,value:A,onChange:s=>{L(s.currentTarget.value),S&&f.openDropdown(),I&&f.selectFirstOption()},disabled:O,readOnly:E||!S,pointer:!S})})]})})}),l.jsx(ws,{data:qe?ps:Q,hidden:E||O,filter:V,search:A,limit:_,hiddenWhenEmpty:!ie,withScrollArea:C,maxDropdownHeight:xe,filterOptions:S,value:c,checkIconPosition:We,withCheckIcon:He,nothingFoundMessage:ie,unstyled:a,labelId:X?`${J}-label`:void 0,"aria-label":X?void 0:re["aria-label"],renderOption:ts,scrollAreaProps:ls})]}),l.jsx(D.HiddenInput,{name:Ue,valuesDivider:Ze,value:c,form:Xe,disabled:O,...Ye})]})});Se.classes={...be.classes,...D.classes};Se.displayName="@mantine/core/MultiSelect";export{Se as M};
